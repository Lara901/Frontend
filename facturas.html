<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Facturas</title>
<script>
  if (localStorage.getItem('usuarioAutenticado') !== 'true') {
    window.location.href = 'login.html';
  }
</script>
</head>
<body>
    
    <header>
        <h1 id= "Relleno"> ..</h1>
        <h1 id= "tituloPrincipal"> Nomina Hogar El Bosque</h1>
        <nav>
            <a id= 1 href="index.html">Inicio</a>
            <a id= 1 href="facturas.html">Facturas</a>
            <a id= 1 href="Control.html">Pacientes</a>
            <a id= 1 href="Flujo.html">Caja</a>
            <a id= 1 href="Gastos.html">Gastos</a>
            <a id= 1 href="excel.html">Busqueda</a>
            
    </nav>
        <section class="Contenido">
        <h2>Todas Las Facturas</h2>
            <p>En esta Opción se visualizara inforamcion sobre todos los gastos realizados por el hogar</p>
            <nav>
                 <a id= 1 href="Agregar.html">Actualizar</a>
            </nav>
    </section>
    </header>
    
    <h2>Tabla de Facturas</h2>
<table id="tablaFacturas" border="1">
  <thead>
    <tr>
      <th>Fecha</th>
      <th>Status</th>
      <th>Sub Concepto</th>
      <th>Concepto</th>
      <th>Detalle</th>
      <th>Créditos</th>
      <th>Débitos</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script src="facturas.js"></script>
   <script>
    fetch('https://api.sheetbest.com/sheets/422f9b4b-ad48-42a8-8a8f-97826f60823a')
  .then(res => res.json())
  .then(data => {
    const cuerpoTabla = document.querySelector('#tablaFacturas tbody');

    data.forEach(fila => {
      if (fila.Fecha && fila.Concepto) {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${fila.Fecha}</td>
          <td>${fila.Status || ''}</td>
          <td>${fila["Sub Concepto"] || ''}</td>
          <td>${fila.Concepto}</td>
          <td>${fila.Detalle || ''}</td>
         <td>${formatoMoneda.format(fila.Créditos || 0)}</td>
         <td>${formatoMoneda.format(fila.Débitos || 0)}</td>
      `;
        cuerpoTabla.appendChild(tr);
      }
    });
  })
  .catch(err => {
    console.error('Error al cargar las facturas:', err);
  });
   </script>
<script src="main.js"></script>
</body>
</html>